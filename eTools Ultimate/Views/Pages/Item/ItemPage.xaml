<Page
    x:Class="eTools_Ultimate.Views.Pages.ItemPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:eTools_Ultimate.Views.Pages"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="clr-namespace:eTools_Ultimate.Models"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:converters="clr-namespace:eTools_Ultimate.Converters"
    Title="ItemPage"
    d:DataContext="{d:DesignInstance local:ItemPage,
                                     IsDesignTimeCreatable=False}"
    d:DesignHeight="4101"
    d:DesignWidth="1600"
    ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
    ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    ScrollViewer.CanContentScroll="False"
    mc:Ignorable="d">

    <Page.Resources>
        <converters:NumberFormatConverter x:Key="NumberFormatConverter"/>
        <!-- Common Styles -->
        <Style x:Key="InfoIconStyle"
                TargetType="ui:SymbolIcon">
            <Setter Property="HorizontalAlignment"
                    Value="Right"/>
            <Setter Property="VerticalAlignment"
                    Value="Center"/>
            <Setter Property="FontSize"
                    Value="16"/>
            <Setter Property="Margin"
                    Value="5,0,0,0"/>
            <Setter Property="Foreground"
                    Value="{DynamicResource TextFillColorSecondaryBrush}"/>
        </Style>
        <Style x:Key="FormFieldStyle"
                TargetType="Grid">
            <Setter Property="Margin"
                    Value="0,0,15,25"/>
        </Style>
        <Style x:Key="FieldLabelStyle"
                TargetType="TextBlock">
            <Setter Property="Margin"
                    Value="0,0,0,5"/>
            <Setter Property="FontWeight"
                    Value="SemiBold"/>
        </Style>
        <Style x:Key="SectionHeaderStyle"
                TargetType="TextBlock">
            <Setter Property="FontSize"
                    Value="24"/>
            <Setter Property="FontWeight"
                    Value="Bold"/>
            <Setter Property="Margin"
                    Value="0,15,0,15"/>
        </Style>

        <!-- WPF UI Design System Resources -->
        <SolidColorBrush x:Key="ControlElevationBorderBrush"
                Color="#1A000000"/>
        <SolidColorBrush x:Key="ControlFillColorDefaultBrush"
                Color="#F3F3F3"/>
        <SolidColorBrush x:Key="TextFillColorSecondaryBrush"
                Color="#9E9E9E"/>
        <SolidColorBrush x:Key="ApplicationBackgroundBrush"
                Color="#FFFFFF"/>

        <!-- DataTemplate: General Section -->
        <DataTemplate x:Key="GeneralSectionTemplate">
            <StackPanel>
                <TextBlock Text="General"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Item ID -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Item ID"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="ID from definition.h - Edit with caution"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ui:AutoSuggestBox Grid.Row="1"
                                x:Name="ItemIdTextBox"
                                 Text="{Binding Identifier, Mode=TwoWay, UpdateSourceTrigger=LostFocus}"
                                 OriginalItemsSource="{Binding Path=ViewModel.ItemIdentifiers, RelativeSource={RelativeSource AncestorType=Page}}"
                                 DisplayMemberPath="Value"
                                  />
                    </Grid>
                    <!-- In-game name (IDS key) -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="In-game name (IDS key)"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Internal IDS key for the item name"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="IdsKeyTextBox"
                                 Text="{Binding Prop.SzName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>
                    <!-- InGame Name -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="InGame Name"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Name displayed in game"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="InGameNameTextBox"
                                 Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>
                    <!-- Description -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Description"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Description of the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="DescriptionTextBox"
                                TextWrapping="Wrap"
                                AcceptsReturn="True"
                                 Text="{Binding Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>
                    <!-- File Name -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="File Name"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Filename from mdlDyna file - Edit with caution!"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="FileNameTextBox"/>
                    </Grid>
                    <!-- Item Icon -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Item Icon"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Icon image displayed in game inventory"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox Grid.Column="0"
                                    x:Name="ItemIconTextBox"
                                     Text="{Binding Prop.SzIcon, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                            <ui:Button Grid.Column="1"
                                    Content="..."
                                    Margin="5,0,0,0" Height="36"/>
                            <Border Grid.Column="2"
                                    Width="32"
                                    Height="32"
                                    Margin="10,0,0,0"
                                    BorderThickness="1" Cursor="">
                                <Image x:Name="ItemIconPreview"

                                        Margin="2"
                                       Source="{Binding Icon}">
                                </Image>
                            </Border>
                        </Grid>
                    </Grid>
                    <!-- Tradeable & Shop-able -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <StackPanel Orientation="Vertical">
                                <TextBlock Text="Tradeable"
                                        Style="{StaticResource FieldLabelStyle}"/>
                                <ui:ToggleSwitch OffContent="No"
                                        OnContent="Yes"
                                        IsChecked="False"/>
                            </StackPanel>
                            <StackPanel Orientation="Vertical"
                                    Margin="50,0,0,0">
                                <TextBlock Text="Shop-able"
                                        Style="{StaticResource FieldLabelStyle}"/>
                                <ui:ToggleSwitch OffContent="No"
                                        OnContent="Yes"
                                        IsChecked="False"/>
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate: Inventory & Stack Section -->
        <DataTemplate x:Key="InventoryStackSectionTemplate">
            <StackPanel>
                <TextBlock Text="Inventory &amp; Stack"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Maximum stack size -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Maximum stack size"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Maximum number of items that can be stacked"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="MaxStackSizeTextBox"/>
                    </Grid>
                    <!-- Penya Price -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Penya Price"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Shop price in Penya"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="PenyaPriceTextBox"/>
                    </Grid>
                    <!-- Item durability -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Item durability"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Maximum durability of the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="ItemDurabilityTextBox"/>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate: Character Requirements Section -->
        <DataTemplate x:Key="CharacterRequirementsSectionTemplate">
            <StackPanel>
                <TextBlock Text="Character Requirements"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Gender restriction -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Gender restriction (0 = both)"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Gender restriction for the item (0 = both, 1 = male, 2 = female)"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ComboBox Grid.Row="1"
                                x:Name="GenderRestrictionComboBox">
                            <ComboBoxItem Content="Both (0)"
                                    IsSelected="True"/>
                            <ComboBoxItem Content="Male (1)"/>
                            <ComboBoxItem Content="Female (2)"/>
                        </ComboBox>
                    </Grid>
                    <!-- Required item level -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Required item level"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Item level requirement"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="RequiredItemLevelTextBox"/>
                    </Grid>
                    <!-- Level limit -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Level limit"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Level limit for the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="LevelLimitTextBox"/>
                    </Grid>
                    <!-- Usable flag -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Usable flag (1 = yes)"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Whether the item can be used (1 = yes, 0 = no)"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ui:ToggleSwitch Grid.Row="1"
                                OffContent="No"
                                OnContent="Yes"
                                IsChecked="True"/>
                    </Grid>
                    <!-- Minimum level limit -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Minimum level limit"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Minimum character level required to use this item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="MinLevelLimitTextBox"/>
                    </Grid>
                    <!-- Maximum level limit -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Maximum level limit"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Maximum character level that can use this item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="MaxLevelLimitTextBox"/>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate: Type Section -->
        <DataTemplate x:Key="TypeClassificationSectionTemplate">
            <StackPanel>
                <TextBlock Text="Type"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Item Kind 1 -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Item Kind 1"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Primary item category (e.g. IK1_WEAPON)"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ComboBox Grid.Row="1"
                                x:Name="ItemKind1ComboBox"/>
                    </Grid>
                    <!-- Item Kind 2 -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Item Kind 2"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Secondary category (e.g. IK2_DIRECT)"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ComboBox Grid.Row="1"
                                x:Name="ItemKind2ComboBox"/>
                    </Grid>
                    <!-- Item Kind 3 -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Item Kind 3"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Subcategory / weapon type (e.g. IK3_AXE)"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ComboBox Grid.Row="1"
                                x:Name="ItemKind3ComboBox"/>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate: Combat Stats & Attributes Section -->
        <DataTemplate x:Key="CombatStatsSectionTemplate">
            <StackPanel>
                <TextBlock Text="Combat Stats &amp; Attributes"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Minimum attack -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Minimum attack"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Minimum attack value"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="MinAttackTextBox"/>
                    </Grid>
                    <!-- Maximum attack -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Maximum attack"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Maximum attack value"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="MaxAttackTextBox"/>
                    </Grid>
                    <!-- Parry chance -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Parry chance"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Chance to parry attacks"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="ParryChanceTextBox"/>
                    </Grid>
                    <!-- Block rate -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Block rate"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Rate of blocking attacks"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="BlockRateTextBox"/>
                    </Grid>
                    <!-- Attack speed -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Attack speed"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Speed of attack"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="AttackSpeedTextBox"/>
                    </Grid>
                    <!-- Attack range -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Attack range"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Range of attack"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="AttackRangeTextBox"/>
                    </Grid>
                    <!-- Parts -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Parts"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Item parts specification"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="PartsTextBox"/>
                    </Grid>
                    <!-- Type -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Type"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Item type specification"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="TypeTextBox"/>
                    </Grid>

                    <!-- Effect 1 -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Effect 1"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="First effect applied by the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <ComboBox Grid.Column="0"
                                    x:Name="Effect1ComboBox"
                                    Margin="0,0,5,0"/>
                            <TextBox Grid.Column="1"
                                    x:Name="Effect1ValueTextBox"
                                    Margin="5,0,0,0"/>
                        </Grid>
                    </Grid>

                    <!-- Effect 2 -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Effect 2"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Second effect applied by the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <ComboBox Grid.Column="0"
                                    x:Name="Effect2ComboBox"
                                    Margin="0,0,5,0"/>
                            <TextBox Grid.Column="1"
                                    x:Name="Effect2ValueTextBox"
                                    Margin="5,0,0,0"/>
                        </Grid>
                    </Grid>

                    <!-- Effect 3 -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Effect 3"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Third effect applied by the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <ComboBox Grid.Column="0"
                                    x:Name="Effect3ComboBox"
                                    Margin="0,0,5,0"/>
                            <TextBox Grid.Column="1"
                                    x:Name="Effect3ValueTextBox"
                                    Margin="5,0,0,0"/>
                        </Grid>
                    </Grid>

                    <!-- Effect 4 -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Effect 4"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Fourth effect applied by the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <ComboBox Grid.Column="0"
                                    x:Name="Effect4ComboBox"
                                    Margin="0,0,5,0"/>
                            <TextBox Grid.Column="1"
                                    x:Name="Effect4ValueTextBox"
                                    Margin="5,0,0,0"/>
                        </Grid>
                    </Grid>

                    <!-- Effect 5 -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Effect 5"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Fifth effect applied by the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <ComboBox Grid.Column="0"
                                    x:Name="Effect5ComboBox"
                                    Margin="0,0,5,0"/>
                            <TextBox Grid.Column="1"
                                    x:Name="Effect5ValueTextBox"
                                    Margin="5,0,0,0"/>
                        </Grid>
                    </Grid>

                    <!-- Effect 6 -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Effect 6"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Sixth effect applied by the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <ComboBox Grid.Column="0"
                                    x:Name="Effect6ComboBox"
                                    Margin="0,0,5,0"/>
                            <TextBox Grid.Column="1"
                                    x:Name="Effect6ValueTextBox"
                                    Margin="5,0,0,0"/>
                        </Grid>
                    </Grid>

                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate: Skill Triggers & Activation Section -->
        <DataTemplate x:Key="SkillTriggersSectionTemplate">
            <StackPanel>
                <TextBlock Text="Skill Triggers &amp; Activation"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Active skill ID -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Active skill ID"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="ID of the active skill"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="ActiveSkillIdTextBox"/>
                    </Grid>
                    <!-- Active skill level -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Active skill level"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Level of the active skill"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="ActiveSkillLevelTextBox"/>
                    </Grid>
                    <!-- Active skill activation rate (%) -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Active skill activation rate (%)"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Activation rate percentage of the skill"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="ActiveSkillActivationRateTextBox"/>
                    </Grid>
                    <!-- MP required to use -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="MP required to use"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="MP required to use the skill"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="MPRequiredTextBox"/>
                    </Grid>
                    <!-- Required skills -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Required skills"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Skills required to use this item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="RequiredSkillsTextBox"/>
                    </Grid>
                    <!-- Required skill levels -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Required skill levels"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Required levels for the skills"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="RequiredSkillLevelsTextBox"/>
                    </Grid>
                    <!-- Preparation type -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Preparation type"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Type of preparation for using the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ComboBox Grid.Row="1"
                                x:Name="PreparationTypeComboBox"/>
                    </Grid>
                    <!-- Preparation duration -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Preparation duration"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Duration of preparation"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="PreparationDurationTextBox"/>
                    </Grid>
                    <!-- Skill range -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Skill range"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Range of the skill"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="SkillRangeTextBox"/>
                    </Grid>
                    <!-- Animation motions when used -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Animation motions when used"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Animation motions when the item is used"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="AnimationMotionsTextBox"/>
                    </Grid>
                    <!-- Visual elemental effect -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Visual elemental effect"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Visual elemental effect of the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ComboBox Grid.Row="1"
                                x:Name="VisualElementalEffectComboBox"/>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate: Resistance & Alignment Section -->
        <DataTemplate x:Key="ResistanceAlignmentSectionTemplate">
            <StackPanel>
                <TextBlock Text="Resistance &amp; Alignment"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Electric resistance -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Electric resistance"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Resistance to electric damage"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="ElectricResistanceTextBox"/>
                    </Grid>
                    <!-- Fire resistance -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Fire resistance"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Resistance to fire damage"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="FireResistanceTextBox"/>
                    </Grid>
                    <!-- Wind resistance -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Wind resistance"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Resistance to wind damage"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="WindResistanceTextBox"/>
                    </Grid>
                    <!-- Water resistance -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Water resistance"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Resistance to water damage"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="WaterResistanceTextBox"/>
                    </Grid>
                    <!-- Earth resistance -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Earth resistance"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Resistance to earth damage"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="EarthResistanceTextBox"/>
                    </Grid>
                    <!-- Karma/alignment value -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Karma/alignment value"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Karma/alignment value of the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="KarmaAlignmentValueTextBox"/>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate: Crafting & Enhancement Section -->
        <DataTemplate x:Key="CraftingEnhancementSectionTemplate">
            <StackPanel>
                <TextBlock Text="Crafting &amp; Enhancement"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Smelting level -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Smelting level"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Smelting level of the item"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="SmeltingLevelTextBox"/>
                    </Grid>
                    <!-- Attribute smelting -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Attribute smelting"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Attribute smelting properties"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="AttributeSmeltingTextBox"/>
                    </Grid>
                    <!-- Gem smelting -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Gem smelting"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Gem smelting properties"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="GemSmeltingTextBox"/>
                    </Grid>
                    <!-- Number of piercing slots -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Number of piercing slots"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Number of piercing slots available"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="PiercingSlotsTextBox"/>
                    </Grid>
                    <!-- Upgrade flag -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Upgrade flag"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Flag indicating if item can be upgraded"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ui:ToggleSwitch Grid.Row="1"
                                OffContent="No"
                                OnContent="Yes"
                                IsChecked="False"/>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate: Sound Section -->
        <DataTemplate x:Key="SoundSectionTemplate">
            <StackPanel>
                <TextBlock Text="Sound"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Attack Sound -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Attack Sound"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Sound played when attacking"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <ComboBox Grid.Column="0"
                                    x:Name="AttackSoundComboBox"
                                    ItemsSource="{Binding ViewModel.AttackSounds}"
                                    DisplayMemberPath="Name"
                                    SelectedValuePath="Id"
                                    SelectedValue="{Binding ViewModel.SelectedAttackSound, Mode=TwoWay}"/>
                            <ui:Button Grid.Column="1"
                                    Content="Play"
                                    Icon="Play24"
                                    Margin="5,0,0,0"
                                    Command="{Binding ViewModel.PlayAttackSoundCommand}"/>
                        </Grid>
                    </Grid>
                    <!-- Critical Attack Sound -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Critical Attack Sound"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Sound played when landing a critical hit"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <ComboBox Grid.Column="0"
                                    x:Name="CriticalAttackSoundComboBox"
                                    ItemsSource="{Binding ViewModel.CriticalAttackSounds}"
                                    DisplayMemberPath="Name"
                                    SelectedValuePath="Id"
                                    SelectedValue="{Binding ViewModel.SelectedCriticalAttackSound, Mode=TwoWay}"/>
                            <ui:Button Grid.Column="1"
                                    Content="Play"
                                    Icon="Play24"
                                    Margin="5,0,0,0"
                                    Command="{Binding ViewModel.PlayCriticalAttackSoundCommand}"/>
                        </Grid>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate: Flags & Conditions Section -->
        <DataTemplate x:Key="FlagsConditionsSectionTemplate">
            <StackPanel>
                <TextBlock Text="Flags &amp; Conditions"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Enable item logging -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Enable item logging"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Whether to log item usage"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ui:ToggleSwitch Grid.Row="1"
                                OffContent="No"
                                OnContent="Yes"
                                IsChecked="False"/>
                    </Grid>
                    <!-- Charged item flag -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Charged item flag"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Whether the item is charged"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ui:ToggleSwitch Grid.Row="1"
                                OffContent="No"
                                OnContent="Yes"
                                IsChecked="False"/>
                    </Grid>
                    <!-- Bind reset allowed -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Bind reset allowed"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Whether bind reset is allowed"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ui:ToggleSwitch Grid.Row="1"
                                OffContent="No"
                                OnContent="Yes"
                                IsChecked="False"/>
                    </Grid>
                    <!-- Time-limited item -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Time-limited item"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Whether the item is time-limited"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ui:ToggleSwitch Grid.Row="1"
                                OffContent="No"
                                OnContent="Yes"
                                IsChecked="False"/>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate for ListView Items -->
        <DataTemplate x:Key="ItemListTemplate">
            <Grid Margin="4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Border Width="32"
                        Height="32"
                        Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        Margin="0,0,8,0">
                    <Image Stretch="Uniform"
                            Margin="2"
                            Source="{Binding Icon}"/>
                </Border>
                <StackPanel Grid.Column="1"
                        VerticalAlignment="Center">
                    <TextBlock Text="{Binding Name}"
                            FontWeight="SemiBold"
                            Foreground="{DynamicResource TextFillColorPrimaryBrush}"/>
                    <TextBlock Text="{Binding Identifier}"
                            Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                            FontSize="12"/>
                </StackPanel>
            </Grid>
        </DataTemplate>

        <!-- DataTemplate: Blinkwing Section -->
        <DataTemplate x:Key="BlinkwingSectionTemplate">
            <StackPanel>
                <TextBlock Text="Blinkwing"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Required Level -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Required Level"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Required level for teleportation"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ui:NumberBox Grid.Row="1"
                                x:Name="RequiredLevelNumberBox"
                                Minimum="0"
                                Maximum="999"
                                SpinButtonPlacementMode="Inline"/>
                    </Grid>

                    <!-- Teleport to the Nearest town -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Teleport to the Nearest town"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Teleports to the nearest town"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <CheckBox Grid.Row="1"
                                x:Name="NearestTownCheckbox"
                                Content=""
                                VerticalAlignment="Center"/>
                    </Grid>

                    <!-- World -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="World"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Target world for teleportation"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ComboBox Grid.Row="1"
                                x:Name="WorldComboBox">
                            <ComboBoxItem Content="Flaris" IsSelected="True"/>
                            <ComboBoxItem Content="Saint Morning"/>
                            <ComboBoxItem Content="Darkon"/>
                            <ComboBoxItem Content="Harmonin"/>
                            <ComboBoxItem Content="Azria"/>
                        </ComboBox>
                    </Grid>

                    <!-- Position -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Position (X, Y, Z)"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Target position (X, Y, Z)"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <ui:NumberBox Grid.Column="0" x:Name="XPositionNumberBox" Margin="0,0,5,0" Text="X"/>
                            <ui:NumberBox Grid.Column="1" x:Name="YPositionNumberBox" Margin="5,0,5,0" Text="Y"/>
                            <ui:NumberBox Grid.Column="2" x:Name="ZPositionNumberBox" Margin="5,0,0,0" Text="Z"/>
                        </Grid>
                    </Grid>

                    <!-- Angle -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Angle"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="View angle upon arrival"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ui:NumberBox Grid.Row="1"
                                x:Name="AngleNumberBox"
                                Minimum="0"
                                Maximum="360"
                                SpinButtonPlacementMode="Inline"/>
                    </Grid>

                    <!-- Chaotic spawn key -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Chaotic spawn key"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Key for random spawn point"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <TextBox Grid.Row="1"
                                x:Name="ChaoticSpawnKeyTextBox"/>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

        <!-- DataTemplate: Misc Section -->
        <DataTemplate x:Key="MiscSectionTemplate">
            <StackPanel>
                <TextBlock Text="Misc"
                        Style="{StaticResource SectionHeaderStyle}"/>
                <UniformGrid Columns="2">
                    <!-- Casting time -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Casting time"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Time required for casting"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ui:NumberBox Grid.Row="1"
                                x:Name="CastingTimeNumberBox"
                                Minimum="0"
                                SpinButtonPlacementMode="Inline"/>
                    </Grid>

                    <!-- Time -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="Time"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Duration"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <ui:NumberBox Grid.Column="0" 
                                          x:Name="MinutesNumberBox" 
                                          Minimum="0"
                                          SpinButtonPlacementMode="Inline"/>
                            <TextBlock Grid.Column="1" 
                                       Text="min" 
                                       VerticalAlignment="Center" 
                                       Margin="5,0,10,0"/>
                            <ui:NumberBox Grid.Column="2" 
                                          x:Name="SecondsNumberBox" 
                                          Minimum="0"
                                          Maximum="59"
                                          SpinButtonPlacementMode="Inline"/>
                            <TextBlock Grid.Column="3" 
                                       Text="sec" 
                                       VerticalAlignment="Center" 
                                       Margin="5,0,0,0"/>
                        </Grid>
                    </Grid>

                    <!-- SFX -->
                    <Grid Style="{StaticResource FormFieldStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="0"
                                Orientation="Horizontal">
                            <TextBlock Text="SFX"
                                    Style="{StaticResource FieldLabelStyle}"/>
                            <ui:SymbolIcon Symbol="Info20"
                                    Style="{StaticResource InfoIconStyle}">
                                <ui:SymbolIcon.ToolTip>
                                    <ToolTip Content="Sound effect when used"/>
                                </ui:SymbolIcon.ToolTip>
                            </ui:SymbolIcon>
                        </StackPanel>
                        <ComboBox Grid.Row="1"
                                x:Name="SfxComboBox"
                                ItemsSource="{Binding ViewModel.SfxSounds}"
                                DisplayMemberPath="Name"
                                SelectedValuePath="Id"
                                SelectedValue="{Binding ViewModel.SelectedSfx, Mode=TwoWay}"/>
                    </Grid>
                </UniformGrid>
            </StackPanel>
        </DataTemplate>

    </Page.Resources>

    <Grid x:Name="RootGrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Side - ListView -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Search Bar -->
            <Border Grid.Row="0"
                    BorderThickness="1,1,1,0"
                    BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                    Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                    Margin="0,0,10,0">
                <ui:TextBox 
                            PlaceholderText="Suche..."
                            Icon="Search24"
                            BorderThickness="0"
                            Margin="10,10,10,10"
                            Text="{Binding ViewModel.SearchText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            </Border>

            <!-- Item List -->
            <Border Grid.Row="1"
                    BorderThickness="1,0,1,1"
                    BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                    Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                    Margin="0,0,10,0">
                <ListView x:Name="ItemsListView"
                          BorderThickness="0"
                          Background="Transparent"
                          ItemTemplate="{StaticResource ItemListTemplate}"
                          SelectionChanged="VirtualizingGridView_SelectionChanged"
                          ItemsSource="{Binding ViewModel.ItemsView}"
                          IsSynchronizedWithCurrentItem="True">
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="Background"
                                    Value="Transparent"/>
                            <Setter Property="BorderBrush"
                                    Value="{DynamicResource ControlStrokeColorDefaultBrush}"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver"
                                        Value="True">
                                    <Setter Property="Background"
                                            Value="{DynamicResource ControlFillColorSecondaryBrush}"/>
                                </Trigger>
                                <Trigger Property="IsSelected"
                                        Value="True">
                                    <Setter Property="Background"
                                            Value="{DynamicResource ControlFillColorDefaultBrush}"/>
                                    <Setter Property="Foreground"
                                            Value="{DynamicResource TextFillColorPrimaryBrush}"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ListView.ItemContainerStyle>
                </ListView>
            </Border>
        </Grid>

        <!-- Separator -->
        <GridSplitter Grid.Column="1"
                      Width="10"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Stretch"
                      Background="Transparent">
            <GridSplitter.Template>
                <ControlTemplate TargetType="{x:Type GridSplitter}">
                    <Grid Background="Transparent">
                        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                            <Rectangle Width="2" Height="20" Fill="{DynamicResource TextFillColorSecondaryBrush}" Margin="0,2,0,2"/>
                            <Rectangle Width="2" Height="20" Fill="{DynamicResource TextFillColorSecondaryBrush}" Margin="0,2,0,2"/>
                            <Rectangle Width="2" Height="20" Fill="{DynamicResource TextFillColorSecondaryBrush}" Margin="0,2,0,2"/>
                        </StackPanel>
                    </Grid>
                </ControlTemplate>
            </GridSplitter.Template>
        </GridSplitter>

        <!-- Right Side - Form -->
        <ScrollViewer Grid.Column="2"
                VerticalScrollBarVisibility="Auto">
            <Grid>
                <!-- Add und Delete Buttons oben rechts -->
                <StackPanel Orientation="Horizontal" 
                          HorizontalAlignment="Right" 
                          VerticalAlignment="Top"
                          Margin="0,10,20,0"
                          ZIndex="1">
                    <ui:Button
                             ToolTip="Undo">
                        <ui:SymbolIcon Symbol="ArrowUndo24"/>
                    </ui:Button>
                    <ui:Button
                             Margin="10,0,10,0"
                             ToolTip="Redo">
                        <ui:SymbolIcon Symbol="ArrowRedo24"/>
                    </ui:Button>
                    <ui:Button x:Name="SaveButton" 
                             Content="Save" 
                             Margin="0,0,10,0"
                             Click="SaveButton_Click"/>
                    <ui:Button x:Name="ExpertButton" 
                             Content="Expert" 
                             Appearance="Secondary"
                             Margin="0,0,10,0"/>
                    <ui:Button x:Name="FilterButton" 
                             Content="Filter" 
                             Appearance="Secondary"
                             Margin="0,0,10,0">
                        <ui:Button.ContextMenu>
                            <ContextMenu Background="{DynamicResource ApplicationBackgroundBrush}">
                                <ScrollViewer MaxHeight="600" 
                                            VerticalScrollBarVisibility="Auto"
                                            Padding="0,0,15,0">
                                    <StackPanel MinWidth="250">
                                        <TextBlock Text="Filter Sections"
                                                 Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                 FontWeight="SemiBold"
                                                 Margin="10,5,0,5"/>
                                        
                                        <Border Background="{DynamicResource ControlFillColorDefaultBrush}"
                                                Padding="10,5">
                                            <StackPanel>
                                                <CheckBox Content="General" 
                                                          IsChecked="True"
                                                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                          Margin="0,2"/>
                                                <CheckBox Content="Inventory &amp; Stack" 
                                                          IsChecked="True"
                                                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                          Margin="0,2"/>
                                                <CheckBox Content="Character Requirements" 
                                                          IsChecked="True"
                                                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                          Margin="0,2"/>
                                                <CheckBox Content="Type &amp; Classification" 
                                                          IsChecked="True"
                                                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                          Margin="0,2"/>
                                                <CheckBox Content="Combat Stats" 
                                                          IsChecked="True"
                                                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                          Margin="0,2"/>
                                                <CheckBox Content="Resistance &amp; Alignment" 
                                                          IsChecked="True"
                                                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                          Margin="0,2"/>
                                                <CheckBox Content="Blinkwing" 
                                                          IsChecked="True"
                                                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                          Margin="0,2"/>
                                                <CheckBox Content="Misc" 
                                                          IsChecked="True"
                                                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                          Margin="0,2"/>
                                                <CheckBox Content="Sound" 
                                                          IsChecked="True"
                                                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                          Margin="0,2"/>
                                                <CheckBox Content="Flags &amp; Conditions" 
                                                          IsChecked="True"
                                                          Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                          Margin="0,2"/>
                                            </StackPanel>
                                        </Border>

                                        <TextBlock Text="Filter Fields"
                                                 Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                 FontWeight="SemiBold"
                                                 Margin="10,10,0,5"/>

                                        <Border Background="{DynamicResource ControlFillColorDefaultBrush}"
                                                Margin="0,0,0,5">
                                            <Expander Header="General Fields"
                                                      Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                      Background="Transparent">
                                                <StackPanel Margin="20,5,5,5">
                                                    <CheckBox Content="ID" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Name" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Description" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Icon" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Tradeable" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Shop-able" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                </StackPanel>
                                            </Expander>
                                        </Border>

                                        <Border Background="{DynamicResource ControlFillColorDefaultBrush}"
                                                Margin="0,0,0,5">
                                            <Expander Header="Inventory &amp; Stack Fields"
                                                      Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                      Background="Transparent">
                                                <StackPanel Margin="20,5,5,5">
                                                    <CheckBox Content="Stack Size" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Price" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Inventory Slot" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                </StackPanel>
                                            </Expander>
                                        </Border>

                                        <Border Background="{DynamicResource ControlFillColorDefaultBrush}"
                                                Margin="0,0,0,5">
                                            <Expander Header="Character Requirements Fields"
                                                      Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                      Background="Transparent">
                                                <StackPanel Margin="20,5,5,5">
                                                    <CheckBox Content="Gender Restriction" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Required Level" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Job Requirements" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                </StackPanel>
                                            </Expander>
                                        </Border>

                                        <Border Background="{DynamicResource ControlFillColorDefaultBrush}"
                                                Margin="0,0,0,5">
                                            <Expander Header="Combat Stats Fields"
                                                      Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                      Background="Transparent">
                                                <StackPanel Margin="20,5,5,5">
                                                    <CheckBox Content="Attack Min/Max" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Defense" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Attack Speed" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                </StackPanel>
                                            </Expander>
                                        </Border>

                                        <Border Background="{DynamicResource ControlFillColorDefaultBrush}"
                                                Margin="0,0,0,5">
                                            <Expander Header="Resistance Fields"
                                                      Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                      Background="Transparent">
                                                <StackPanel Margin="20,5,5,5">
                                                    <CheckBox Content="Element Resistances" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                    <CheckBox Content="Alignment" IsChecked="True" 
                                                              Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                              Margin="0,2"/>
                                                </StackPanel>
                                            </Expander>
                                        </Border>
                                    </StackPanel>
                                </ScrollViewer>
                            </ContextMenu>
                        </ui:Button.ContextMenu>
                    </ui:Button>
                    <ui:Button x:Name="AddButton" 
                             Content="Add" 
                             Background="#2F70AF"
                             Margin="0,0,10,0"
                             Click="AddButton_Click"/>
                    <ui:Button x:Name="DeleteButton" 
                             Content="Delete" 
                             Background="#FD292F"
                             Click="DeleteButton_Click"/>
                </StackPanel>

                <!-- Formulare -->
                <StackPanel Margin="20">
                    <ContentControl Content="{Binding ViewModel.ItemsView}" ContentTemplate="{StaticResource GeneralSectionTemplate}"/>
                    <Separator Margin="0,10,0,5"/>
                    <ContentControl ContentTemplate="{StaticResource InventoryStackSectionTemplate}"/>
                    <Separator Margin="0,10,0,5"/>
                    <ContentControl ContentTemplate="{StaticResource CharacterRequirementsSectionTemplate}"/>
                    <Separator Margin="0,10,0,5"/>
                    <ContentControl ContentTemplate="{StaticResource TypeClassificationSectionTemplate}"/>
                    <Separator Margin="0,10,0,5"/>
                    <ContentControl ContentTemplate="{StaticResource CombatStatsSectionTemplate}"/>
                    <Separator Margin="0,10,0,5"/>
                    <ContentControl ContentTemplate="{StaticResource ResistanceAlignmentSectionTemplate}"/>
                    <Separator Margin="0,10,0,5"/>
                    <ContentControl ContentTemplate="{StaticResource BlinkwingSectionTemplate}"/>
                    <Separator Margin="0,10,0,5"/>
                    <ContentControl ContentTemplate="{StaticResource MiscSectionTemplate}"/>
                    <Separator Margin="0,10,0,5"/>
                    <ContentControl ContentTemplate="{StaticResource SoundSectionTemplate}"/>
                    <Separator Margin="0,10,0,5"/>
                    <ContentControl ContentTemplate="{StaticResource FlagsConditionsSectionTemplate}"/>
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>

</Page>
